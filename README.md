# Tparser

> Парсер школьного расписания.

Сколько времени уходит, чтобы просто посмотреть какие уроки на завтра?
Для начала нужно найти ссылку на расписание, хорошо. если она лежит в закладках.
Потом ожидание пока расписание загрузится, поиск своего класс и наконец...

**Это долго!**

В этом репозитории находится мой парсер `tparser.py`,
лёгкая обёртка для этого парсера `console.py` для проверки работы в консоли,
а также бот для **Telegram**, который изначально написан Артёмом Березеным.

Надеюсь это кому-нибудь пригодится.


## О парсере

Главным образом парсер преобразует CSV файо в удобный для использования формат.

Выходной файл содержит:

- Общий хеш расписания
- В какой час было последнее обновление (0-23)
- Словарь для каждого класса
- В словаре класса содержится список из 6 дней
- В каждом дне есть хеш и список уроков на день

Чтобы не парсить расписание каждый раз, оно сохраняется в `sc.json`.
Раз в час происходит загрузка расписания и если их хеши различаются - обновляется.

Парсер запоминаеь плльзователей по их UID (User ID) и хранит данные пользоватеей в `users.json`.
В данных пользователя сохраняется указанный им класс, а так же хеши списка уроков.
Если расписание для выбранного пользователем класса изменилось, парсер оповестит об этом пользователя.


## Telegram

Для взаимодействия с парсером Артёмом Березиным был напаисан телеграм-бот.
Всё происходит черех клавиатуру бота и разобраться с некй труда не составит.
Для начала вам необходимо выбрать класс, а после вы сможете пользоваться всеми прелестями.
